#include "../main.h"
#include "../GameWorld.h"

#include "SGame.h"


//================================================================
//　ゲーム画面の初期化　ロード
//================================================================
SGame::SGame() 
{
	m_id = GAME;

	cdg.SetDirectionalLight(0,
		&D3DXVECTOR3(1, -1, 0),				// ライトの方向
		&D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f),	// 基本色(ディフーズ RGBA)
		&D3DXCOLOR(0.3f, 0.3f, 0.3f, 0.0f),	// 環境色(アンビエント RGBA)
		&D3DXCOLOR(1.0f, 1.0f, 1.0f, 0.0f)	// 反射色(スペキュラ RGBA)
	);

}

//================================================================
//　ゲーム画面の終了処理
//================================================================
SGame::~SGame() 
{
	
}

//================================================================
//　画面の更新
//================================================================
int SGame::Update(void)
{
	return GAME;
}


//================================================================
//　ゲーム画面の描画
//================================================================
void SGame::Draw(void)
{
	
	// 描画開始
	cdg.GetDev()->BeginScene();

	// バックバッファと Z バッファをクリア
	//cdg.GetDev()->Clear(0, NULL, D3DCLEAR_TARGET | D3DCLEAR_ZBUFFER, D3DCOLOR_XRGB(0, 0, 0), 1.0f, 0);
	cdg.Clear(true, true, false, XRGB(0, 100, 0), 1, 0);
	
	//-------------------------------------------
	// カメラ処理
	//-------------------------------------------


	//-------------------------------------------
	// 描画処理
	//-------------------------------------------
	Render();

	//-------------------------------------------
	// スプライト	2D画像
	//-------------------------------------------
	DrawSprite();

	//--------------------------------------------
	// 文字表示
	//--------------------------------------------
	DisplayText();

	// 描画終了
	cdg.GetDev()->EndScene();

	// バックバッファをプライマリバッファにコピー
	cdg.GetDev()->Present(nullptr, nullptr, nullptr, nullptr);
}


//================================================================
// 描画処理
//================================================================
void SGame::Render()
{

}

//================================================================
// スプライト描画
//================================================================
void SGame::DrawSprite()
{

}

//================================================================
// テキスト表示
//================================================================
void SGame::DisplayText()
{
	CMatrix m;
	m.CreateMove(100, 100, 0);

	cdg.DrawFont("ゲーム", ARGB_FULL, &m);
}
